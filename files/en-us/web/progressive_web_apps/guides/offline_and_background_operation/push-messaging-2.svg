<svg xmlns="http://www.w3.org/2000/svg" style="background-color:#fff" xmlns:xlink="http://www.w3.org/1999/xlink" width="700" height="600" viewBox="-0.5 -0.5 700 600"><path fill="#FFF" stroke="#000" pointer-events="all" d="M395 50h90v40h-90z"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:88px;height:1px;padding-top:70px;margin-left:396px"><div style="box-sizing:border-box;font-size:0;text-align:center" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">App server</div></div></div></foreignObject><text x="440" y="74" font-family="Helvetica" font-size="14" text-anchor="middle">App server</text></switch><path fill="#FFF" stroke="#000" pointer-events="all" d="M40 180h90v40H40z"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:88px;height:1px;padding-top:200px;margin-left:41px"><div style="box-sizing:border-box;font-size:0;text-align:center" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Push service</div></div></div></foreignObject><text x="85" y="204" font-family="Helvetica" font-size="14" text-anchor="middle">Push service</text></switch><path fill="#FFF" stroke="#000" pointer-events="all" d="M220 160h450v360H220z"/><path fill="#FFF" stroke="#000" pointer-events="all" d="M380 220h120v40H380z"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:118px;height:1px;padding-top:240px;margin-left:381px"><div style="box-sizing:border-box;font-size:0;text-align:center" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Browser</div></div></div></foreignObject><text x="440" y="244" font-family="Helvetica" font-size="14" text-anchor="middle">Browser</text></switch><path fill="#FFF" stroke="#000" pointer-events="all" d="M380 435h120v40H380z"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:118px;height:1px;padding-top:455px;margin-left:381px"><div style="box-sizing:border-box;font-size:0;text-align:center" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Service worker</div></div></div></foreignObject><text x="440" y="459" font-family="Helvetica" font-size="14" text-anchor="middle">Service worker</text></switch><path d="M395 70Q270 90 141.28 181.94" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m130.91 189.35 8.89-16.8 1.48 9.39 8.4 4.45Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe flex-start;width:1px;height:1px;padding-top:111px;margin-left:177px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap"><div align="left">2. Send push message</div></div></div></div></foreignObject><text x="177" y="115" font-family="Helvetica" font-size="14">2. Send push message</text></switch><path d="M85 220q45 110 281.95 24.7" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m378.95 240.38-13.12 13.75 1.12-9.43-6.88-6.56Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe flex-start;width:1px;height:1px;padding-top:278px;margin-left:58px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap"><div align="left">4. Deliver encrypted</div><div align="left">push message<br/></div></div></div></div></foreignObject><text x="58" y="282" font-family="Helvetica" font-size="14">4. Deliver encrypted...</text></switch><path d="M107.5 180q2.5-30-7.5-40t-20-10q-10 0-20 10t-2.83 27.2" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m62.07 178.97-14.38-12.43 9.48.66 6.21-7.19Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe flex-start;width:1px;height:1px;padding-top:100px;margin-left:52px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:nowrap"><div align="left">3. Verify</div><div align="left">push message<br/>signature</div></div></div></div></foreignObject><text x="52" y="104" font-family="Helvetica" font-size="14">3. Verif...</text></switch><path fill="#FFF" pointer-events="all" d="M570 170h80v40h-80z"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:78px;height:1px;padding-top:190px;margin-left:571px"><div style="box-sizing:border-box;font-size:0;text-align:center" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">Device</div></div></div></foreignObject><text x="610" y="194" font-family="Helvetica" font-size="14" text-anchor="middle">Device</text></switch><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe flex-start;width:1px;height:1px;padding-top:241px;margin-left:562px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap"><div>5. Decrypt</div><div>push message<br/></div></div></div></div></foreignObject><text x="562" y="245" font-family="Helvetica" font-size="14">5. Decrypt...</text></switch><path d="M470 260v161.13" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m470 433.88-8.5-17 8.5 4.25 8.5-4.25Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe flex-start;width:1px;height:1px;padding-top:315px;margin-left:432px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap"><div align="left">6. Fire push event</div><div align="left">containing message<br/></div></div></div></div></foreignObject><text x="432" y="319" font-family="Helvetica" font-size="14">6. Fire push event...</text></switch><path fill="none" pointer-events="all" d="M560 435h130v30H560z"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe flex-start;justify-content:unsafe flex-start;width:128px;height:1px;padding-top:442px;margin-left:562px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal"><div>7. Handle</div><div>message</div></div></div></div></foreignObject><text x="562" y="456" font-family="Helvetica" font-size="14">7. Handle...</text></switch><path d="M500 465q30 9 45-1t10-20q-5-10-41.46-1.98" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m501.09 444.76 14.78-11.95-2.33 9.21 5.98 7.39Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><path d="M485 80q30 10 45 0t10-20q-5-10-41.4-2.72" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m486.1 59.78 15-11.67-2.5 9.17 5.83 7.5Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><path d="M410 435V273.87" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m410 261.12 8.5 17-8.5-4.25-8.5 4.25Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe flex-start;width:1px;height:1px;padding-top:377px;margin-left:372px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap"><div align="left">8. Display</div><div align="left">notification<br/></div></div></div></div></foreignObject><text x="372" y="381" font-family="Helvetica" font-size="14">8. Display...</text></switch><path d="M500 250q30 10 45 0t10-20q-5-10-41.4-2.72" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m501.1 229.78 15-11.67-2.5 9.17 5.83 7.5Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe flex-start;width:1px;height:1px;padding-top:71px;margin-left:552px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;background-color:#fff;white-space:nowrap"><div>1. Encrypt and sign<br/></div><div>push message<br/></div></div></div></div></foreignObject><text x="552" y="75" font-family="Helvetica" font-size="14">1. Encrypt and sign...</text></switch><path d="M380 465q-60 15-65-10t51.44-12.91" fill="none" stroke="#000" stroke-miterlimit="10" pointer-events="stroke"/><path d="m378.91 444.77-18.41 4.75 5.94-7.43-2.37-9.2Z" stroke="#000" stroke-miterlimit="10" pointer-events="all"/><path fill="none" pointer-events="all" d="M240 420h130v30H240z"/><switch transform="translate(-.5 -.5)"><foreignObject style="overflow:visible;text-align:left" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe flex-start;justify-content:unsafe flex-start;width:128px;height:1px;padding-top:427px;margin-left:242px"><div style="box-sizing:border-box;font-size:0;text-align:left" data-drawio-colors="color: rgb(0, 0, 0);"><div style="display:inline-block;font-size:14px;font-family:Helvetica;color:#000;line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal"><div>9. Handle</div><div>notification</div><div>response<br/></div></div></div></div></foreignObject><text x="242" y="441" font-family="Helvetica" font-size="14">9. Handle...</text></switch></svg>