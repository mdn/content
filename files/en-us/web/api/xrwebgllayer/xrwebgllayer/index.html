---
title: XRWebGLLayer()
slug: Web/API/XRWebGLLayer/XRWebGLLayer
tags:
- API
- AR
- Constructor
- Context
- Create
- Initialize
- Layer
- Reality
- Reference
- VR
- Virtual
- WebXR
- WebXR API
- WebXR Device API
- XR
- XRWebGLLayer
- augmented
- new
browser-compat: api.XRWebGLLayer.XRWebGLLayer
---
<p>{{APIRef("WebXR Device API")}}</p>

<p><span class="seoSummary">The <a href="/en-US/docs/Web/API/WebXR_Device_API">WebXR
      Device API</a> <code><strong>XRWebGLLayer()</strong></code> constructor creates and
    returns a new {{domxref("XRWebGLLayer")}} object, providing the linkage between the
    WebXR device and the WebGL graphics layer used to render the 3D scene.</span></p>

<h2 id="Syntax">Syntax</h2>

<pre
  class="brush: js">let <em>glLayer</em> = new XRWebGLLayer(<em>session</em>, <em>context</em>, <em>layerInit</em>);</pre>

<h3 id="Parameters">Parameters</h3>

<dl>
  <dt><code>session</code></dt>
  <dd>An {{domxref("XRSession")}} object specifying the WebXR session which will be
    rendered using the WebGL context.</dd>
  <dt><code>context</code></dt>
  <dd>A {{domxref("WebGLRenderingContext")}} or {{domxref("WebGL2RenderingContext")}}
    identifying the WebGL drawing context to use for rendering the scene for the specified
    WebXR session.</dd>
  <dt><code>layerInit</code> {{optional_inline}}</dt>
  <dd>
    <p>An object providing configuration options for the new <code>XRWebGLLayer</code>. The available options
      are:</p>
    <ul>
      <li><code>alpha</code>: The frame buffer's color buffer will be established with an alpha channel if the <code>alpha</code> Boolean property is <code>true</code>. Otherwise, the color buffer will not have an alpha channel. The default value is <code>true</code>.</li>
      <li><code>antialias</code>: A Boolean value which is <code>true</code> if anti-aliasing is to be used when rendering in the context; otherwise <code>false</code>. The browser selects the anti-aliasing method to use; there is no support for requesting a specific mode yet.Â  The default value is <code>true</code>.</li>
      <li><code>depth</code>: A Boolean value which, if <code>true</code>, requests that the new layer have a depth buffer; otherwise, no depth layer is allocated. The default is <code>true</code>.</li>
      <li><code>framebufferScaleFactor</code>: A floating-point value which is used to scale the image during compositing, with a value of 1.0 represents the default pixel size for the frame buffer. The static {{domxref("XRWebGLLayer")}} function {{domxref("XRWebGLLayer.getNativeFramebufferScaleFactor()")}} returns the scale that would result in a 1:1 pixel ratio, thereby ensuring that the rendering is occurring at the device's native resolution. The default is 1.0.</li>
      <li><code>ignoreDepthValues</code>: A Boolean value which indicates whether or not to ignore the contents of the depth buffer while compositing the scene. The default is <code>false</code>.</li>
      <li><code>stencil</code>: A Boolean value which, if <code>true</code>, requests that the new layer include a stencil buffer. Otherwise, no stencil buffer is allocated. The default is <code>false</code>.</li>
    </ul>
  </dd>
</dl>

<h3 id="Return_value">Return value</h3>

<p>A newly-created {{domxref("XRWebGLLayer")}} which links the specified
  {{domxref("XRSession")}} to the WebGL context given by <code>context</code>, which will
  be used as the renderer for the session. Any options specified in <code>layerInit</code>
  are used to tailor the rendering system's configuration.</p>

<h3 id="Exceptions">Exceptions</h3>

<dl>
  <dt><code>InvalidStateError</code></dt>
  <dd>
    <p>The new <code>XRWebGLLayer</code> could not be created due to one of a number of
      possible state errors:</p>

    <ul>
      <li>The {{domxref("XRSession")}} specified by <code>session</code> has already been
        stopped.</li>
      <li>The specified WebGL context, <code>context</code>, <a
          href="/en-US/docs/Web/API/WebGLRenderingContext/isContextLost#Usage_notes">has
          been lost</a> for any reason, such as a GPU switch or reset.</li>
      <li>The specified <code>session</code> is immersive but the <code>context</code> is
        not WebXR compatible.</li>
    </ul>
  </dd>
  <dt><code>OperationError</code></dt>
  <dd>The resources (including memory buffers) needed for the layer to operate could not
    be allocated.</dd>
</dl>

<h2 id="Example">Example</h2>

<p>In this example, a new {{domxref("XRWebGLLayer")}} is created for a WebXR session,
  <code>xrSession</code>.</p>

<pre class="brush: js">xrSession.updateRenderState({
  baseLayer: new XRWebGLLayer(xrSession, gl, {
     alpha: false,
     antialias: false,
     depth: false,
     framebufferScaleFactor: 0.5,
     ignoreDepthValues: true,
     stencil: false
  });
});
</pre>

<h2 id="Specifications">Specifications</h2>

{{Specifications}}

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>{{Compat}}</p>

<h2 id="See_also">See also</h2>

<ul>
  <li><a href="/en-US/docs/Web/API/WebXR_Device_API">WebXR Device API</a></li>
  <li><a href="/en-US/docs/Web/API/WebGL_API/Tutorial/Getting_started_with_WebGL">Getting
      started with WebGL</a></li>
  <li><a href="https://www.khronos.org/webgl/wiki/HandlingContextLost">Handling lost
      context in WebGL</a>: Khronos WebGL wiki</li>
</ul>
