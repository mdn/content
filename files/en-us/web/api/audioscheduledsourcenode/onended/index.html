---
title: AudioScheduledSourceNode.onended
slug: Web/API/AudioScheduledSourceNode/onended
tags:
- API
- Audio
- AudioBufferSourceNode
- AudioScheduledSourceNode
- ConstantSourceNode
- Event Handler
- Media
- OscillatorNode
- Property
- Web Audio API
- onended
browser-compat: api.AudioScheduledSourceNode.onended
---
<p>{{APIRef("Web Audio API")}}</p>

<p>The <code>onended</code> event handler for the <code>AudioScheduledSourceNode</code>
  interface specifies an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> to be executed when the
  {{event("ended")}} event occurs on the node. This event is sent to the node when the
  concrete interface (such as {{domxref("AudioBufferSourceNode")}},
  {{domxref("OscillatorNode")}}, or {{domxref("ConstantSourceNode")}}) determines that it
  has stopped playing.</p>

<div class="note">
  <p>The {{event("ended")}} event is only sent to a node configured to loop automatically
    when the node is stopped using its {{domxref("AudioScheduledSourceNode.stop",
    "stop()")}} method. This is the case, for example, when using an
    {{domxref("AudioBufferSourceNode")}} with its {{domxref("AudioBufferSourceNode.loop",
    "loop")}} property set to <code>true</code>.</p>
</div>

<h2 id="Syntax">Syntax</h2>

<pre class="brush: js"><em>AudioScheduledSourceNode</em>.onended = <em>EventHandler</em>;
</pre>

<h3 id="Value">Value</h3>

<p>A function which is called by the browser when the {{event("ended")}} event occurs on
  the {{domxref("AudioScheduledSourceNode")}}. The function receives as input a single
  parameter, which is an object of type {{domxref("Event")}} describing the event that
  occurred.</p>

<h2 id="Example">Example</h2>

<p>The following example shows basic usage of an {{ domxref("AudioContext") }} to create an oscillator node. For an applied example, check out our <a href="https://mdn.github.io/violent-theremin/">Violent Theremin demo</a> (<a href="https://github.com/mdn/violent-theremin/blob/gh-pages/scripts/app.js">see app.js</a> for relevant code).</p>

<pre class="brush: js;highlight[13,14,15]">// create web audio api context
  var audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  // create Oscillator node
  var oscillator = audioCtx.createOscillator();

  oscillator.type = 'square';
  oscillator.frequency.value = 440; // value in hertz
  oscillator.start(); // start the tone playing

  oscillator.stop(5); // the tone will stop again in 5 seconds.

  oscillator.onended = function() {
    console.log('Your tone has now stopped playing!');
  }</pre>

<h2 id="Specifications">Specifications</h2>

{{Specifications}}

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>{{Compat}}</p>

<h2 id="See_also">See also</h2>

<ul>
  <li>The
    <code><a href="/en-US/docs/Web/API/AudioScheduledSourceNode/ended_event">ended</a></code>
    event and its type, {{domxref("Event")}}.</li>
  <li>{{domxref("AudioScheduledSourceNode")}}</li>
  <li><a href="/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a></li>
</ul>
