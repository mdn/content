---
title: "PublicKeyCredential: parseCreationOptionsFromJSON() static method"
short-title: parseCreationOptionsFromJSON()
slug: Web/API/PublicKeyCredential/parseCreationOptionsFromJSON_static
page-type: web-api-static-method
browser-compat: api.PublicKeyCredential.parseCreationOptionsFromJSON_static
---

{{APIRef("Web Authentication API")}}{{securecontext_header}}

The **`parseCreationOptionsFromJSON()`** static method of the {{domxref("PublicKeyCredential")}} interface deserializes a correpsonding JSON object into the [`publicKey` object structure](/en-US/docs/Web/API/CredentialsContainer/create#publickey_object_structure).

Typically a server will create public key credential options, including a challenge that the client must sign and return in order to ensure the integrity of the registration process, serialize them to JSON, and then send them to the client.
The client can then use this method to deserialize the JSON before passing it to [`navigator.credentials.create()`](/en-US/docs/Web/API/CredentialsContainer/create) in order to create the [Web Authentication API](/en-US/docs/Web/API/Web_Authentication_API) credentials.

The JSON object to be deserialized shares the same structure as the [`publicKey` object structure](/en-US/docs/Web/API/CredentialsContainer/create#publickey_object_structure) passed to `navigator.credentials.create()`, except that [base64url](/en-US/docs/Glossary/Base64) strings are used in attributes in place of buffers (for example in the `challenge`, and in the `user.id`).

## Syntax

```js-nolint
PublicKeyCredential.parseCreationOptionsFromJSON(options)
```

### Parameters

- `options`

  - : A JSON object with the same structure as the Web Authentication API the [`publicKey` object structure](/en-US/docs/Web/API/CredentialsContainer/create#publickey_object_structure).
    The only difference is that the JSON object use strings in place of buffers: for example in the `challenge`.

### Return value

An object with the Web Authentication API [`publicKey` object structure](/en-US/docs/Web/API/CredentialsContainer/create#publickey_object_structure).
The attribute values will match the original JSON object passed into the method, except for buffers, which will be decoded from the corresponding [base64url](/en-US/docs/Glossary/Base64) encoded strings.

### Exceptions

- `EncodingError` {{domxref("DOMException")}}
  - : Raised if any part of the JSON options cannot be converted into the corresponding JSON object passed to [`navigator.credentials.create()`](/en-US/docs/Web/API/CredentialsContainer/create).

## Examples

Consider a server might create JSON credentials "something" like this (taken from the [`AuthenticatorResponse` example "getting an AuthenticatorAttestationResponse"](/en-US/docs/Web/API/AuthenticatorResponse#getting_an_authenticatorattestationresponse)):

```js
const publicKey = {
  challenge:
    "21, 31, 105, " /* 29 more random bytes generated by the server in this string */,
  rp: {
    name: "Example CORP",
    id: "login.example.com",
  },
  user: {
    id: "16",
    name: "canand@example.com",
    displayName: "Carina Anand",
  },
  pubKeyCredParams: [
    {
      type: "public-key",
      alg: -7,
    },
  ],
};
const publicKeyJSON = JSON.stringify(publicKey);
```

The `publicKeyJSON` can be converted to the correct form to use in `navigator.credentials.create()` as shown:

```js
const publicKey =
  PublicKeyCredential.parseCreationOptionsFromJSON(publicKeyJSON);

navigator.credentials
  .create({ publicKey })
  .then((newCredentialInfo) => {
    // Handle the new credential information here.
  })
  .catch((err) => {
    console.error(err);
  });
```

## Specifications

{{Specifications}}

## Browser compatibility

{{Compat}}

## See also

- {{domxref("PublicKeyCredential.parseRequestOptionsFromJSON_static", "PublicKeyCredential.parseRequestOptionsFromJSON()")}}
- {{domxref("PublicKeyCredential.toJSON()")}}
