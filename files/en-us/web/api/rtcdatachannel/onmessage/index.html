---
title: RTCDataChannel.onmessage
slug: Web/API/RTCDataChannel/onmessage
tags:
- Event Handler
- Experimental
- Property
- RTCDataChannel
- Reference
- WebRTC
- onmessage
browser-compat: api.RTCDataChannel.onmessage
---
<p>{{APIRef("WebRTC")}}{{SeeCompatTable}}</p>

<p>The <code><strong>RTCDataChannel.onmessage</strong></code> property stores an
  {{event("Event_handlers", "event handler")}} which specifies a function to be called when the
  {{event("message")}} event is fired on the channel. This event is represented by the
  {{domxref("MessageEvent")}} interface. This event is sent to the channel when a message
  is received from the other peer.</p>

<h2 id="Syntax">Syntax</h2>

<pre
  class="brush: js"><em>RTCDataChannel</em>.onmessage = <em>function</em>;</pre>

<h3 id="Value">Value</h3>

<p>A function which the browser will call to handle the {{event("message")}} event. The
  function receives as its sole input parameter a {{domxref("MessageEvent")}} object
  describing the event.</p>

<h2 id="Example">Example</h2>

<p>This code snippet creates a peer connection, adds a data channel to it, and starts
  creating new {{HTMLElement("p")}} (paragraph) elements each time a message arrives, with
  the message's contents displayed inside it. The new elements are then attached to the
  end of the document.</p>

<pre class="brush: js">let pc = new RTCPeerConnection();
let dc = pc.createDataChannel();

dc.onmessage = function(event) {
  var el = document.createElement("p");
  var txtNode = document.createTextNode(event.data);

  el.appendChild(txtNode);
  receiveBox.appendChild(el);
}
</pre>

<h2 id="Specifications">Specifications</h2>

{{Specifications}}

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>{{Compat}}</p>

<h2 id="See_also">See also</h2>

<ul>
  <li><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC</a></li>
  <li>{{domxref("RTCPeerConnection")}}</li>
  <li>{{domxref("RTCDataChannel")}}</li>
  <li>The {{event("message")}} event and its type, {{domxref("MessageEvent")}}.</li>
</ul>
