---
title: GlobalEventHandlers.onselectionchange
slug: Web/API/GlobalEventHandlers/onselectionchange
tags:
  - API
  - Event Handler
  - GlobalEventHandlers
  - Property
  - Reference
  - Selection
  - Selection API
  - onselectionchange
browser-compat: api.GlobalEventHandlers.onselectionchange
---
<div>{{ApiRef('DOM')}}</div>

<p>The <code><strong>onselectionchange</strong></code> property of the {{domxref("GlobalEventHandlers")}} mixin is an <a href="/en-US/docs/Web/Events/Event_handlers">event handler</a> for <code>selectionchange</code> events.</p>

<p>The {{domxref("Document.selectionchange_event")}} is fired when the {{domxref("Selection")}} of a {{domxref("Document")}} is changed.
  The {{domxref("Selection")}} consists of a starting position and (optionally) a range of HTML nodes from that position.
  Clicking or starting a selection outside of a text field will generally fire this event.</p>

<p>The {{domxref("HTMLTextAreaElement.selectionchange_event")}} and {{domxref("HTMLInputElement.selectionchange_event")}} events are fired, respectively, when the text selection within a {{HTMLElement("textarea")}} or {{HTMLElement("input")}} element is changed or the caret moves.</p>

<h2 id="Syntax">Syntax</h2>

<pre class="brush: js">document.onselectionchange = <em>functionRef</em>;
</pre>

<h3 id="Value">Value</h3>

<p><code>functionRef</code> is a function name or a <a href="/en-US/docs/Web/JavaScript/Reference/Operators/function">function expression</a>. The function receives an {{domxref("Event")}} object as its sole argument.</p>

<h2 id="Example">Example</h2>

<h3 id="getting_the_changed_document_selection">Getting the changed Document Selection</h3>

<p>This code fragment shows how you can get <code>selectionchange</code> events on the {{domxref("Document")}}.
This will include events fired on text controls, which will bubble up to this handler.</p>

<pre class="brush: js">document.onselectionchange = function() {
  console.log('New selection made');
  let selection = document.getSelection();
};</pre>

<p>For a full example, see our <a href="https://github.com/chrisdavidmills/selection-api-examples/#key-quote-generator-see-it-running-live">Key quote generator</a> demo.</p>

<h3 id="Using_selectionchange_with_a_text_control">Using selectionchange with a text control</h3>

<p>The example below shows how to get the start, end, and direction of text selected in a {{HTMLElement("textarea")}}.
  It uses {{domxref("HTMLTextAreaElement")}} properties <code>selectionStart</code>, <code>selectionEnd</code>, and <code>selectionDirection</code> (for an {{HTMLElement("input")}} element you would use properties with the same name on {{domxref("HTMLInputElement")}}).</p>

<div class="notecard note">
  <p><strong>Note:</strong> We don't use {{domxref("Selection")}} here, because it contains information about selected {{domxref("Document")}} nodes, not the selected text.</p>
</div>

<h4 id="HTML">HTML</h4>

<pre class="brush: html">&lt;div&gt;Enter and select text here:&lt;br&gt;&lt;textarea id="mytext" rows="2" cols="20"&gt;&lt;/textarea&gt;&lt;/div&gt;
&lt;div&gt;selectionStart: &lt;span id="start"&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;selectionEnd: &lt;span id="end"&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;selectionDirection: &lt;span id="direction"&gt;&lt;/span&gt;&lt;/div&gt;
</pre>

<h4 id="JavaScript">JavaScript</h4>

<pre class="brush: js">const myinput = document.getElementById("mytext");

myinput.addEventListener("selectionchange", () => {
  document.getElementById("start").textContent = mytext.selectionStart;
  document.getElementById("end").textContent = mytext.selectionEnd;
  document.getElementById("direction").textContent = mytext.selectionDirection;
});
</pre>

<h4 id="Result">Result</h4>

<p>{{EmbedLiveSample("Using_selectionchange_with_a_text_control")}}</p>



<h2 id="Specifications">Specifications</h2>

{{Specifications}}

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>{{Compat}}</p>

<h2 id="See_also">See also</h2>

<ul>
 <li>{{event("selectionchange")}} event</li>
 <li>Related event handler: {{domxref("GlobalEventHandlers.onselectstart")}}</li>
</ul>
