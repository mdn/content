---
title: Thunderbird Enterprise Tips
slug: Mozilla/Thunderbird/Thunderbird_Enterprise_Tips
tags:
  - enterprise
  - thunderbird
---
<p>The tips on this page have been drawn from the <a class="external" href="http://groups.google.com/group/tb-enterprise/" title="http://groups.google.com/group/tb-enterprise/">tb-enterprise</a> mailing list.</p>
<p>For many more hints about preferences, see the page about <a href="/en/Thunderbird/Deploying_Thunderbird_in_the_Enterprise/Thunderbird_Preferences_Relevant_to_Enterprises" title="https://developer.mozilla.org/en/Thunderbird/Deploying_Thunderbird_in_the_Enterprise/Thunderbird_Preferences_Relevant_to_Enterprises">preferences relevant to enterprises and organizations.</a></p>
<h3 id="Using_a_private_CA_certificate">Using a private CA certificate</h3>
<p><strong>Question: The cert8.db file is created when Thunderbird creates a profile. I want the file to contain our private CA certificate.</strong></p>
<p><strong>Answer:</strong> Create a master file by manually importing the certificate into the cert8.db file from a new profile. After installing Thunderbird on client machines, copy that file to the program directory (for example, on Windows "C:\Program Files (x86)/Mozilla Thunderbird") into a "/defaults/profile" subdirectory.</p>
<p><a class="link-https" href="https://groups.google.com/group/tb-enterprise/browse_thread/thread/a07fae23673961a0" title="https://groups.google.com/group/tb-enterprise/browse_thread/thread/a07fae23673961a0">Read the complete discussion</a> on the mailing list.</p>
<h3 id="Updating_users_to_access_LDAP">Updating users to access LDAP</h3>
<p><strong>Question: How do I automatically update existing users so they can access Active Directory LDAP information from their address books?</strong></p>
<p><strong>Answer:</strong> It is relatively simple to create this access when creating new users (by adding user.js to the corporate install in the "core\defaults\profile" directory of the unpacked installer). However, it's a bit trickier to merge this information with an existing profile. The solution is to create the settings for the directory via <code>lockPref</code> and <code>defaultPref</code> and then use the <a href="/en/MCD,_Mission_Control_Desktop_AKA_AutoConfig" title="en/MCD,_Mission_Control_Desktop_AKA_AutoConfig">Misssion Control Desktop / AutoConfig</a>.</p>
<p>Under the '(Thunderbird install directory)\defaults\pref' directory, put a .js file (any valid filename with the JS extension should work) with the following content:</p>
<pre>pref("general.config.obscure_value",0);
pref("general.config.filename","another-file.cfg.js");</pre>
<p>Create a file named '(Thunderbird install directory)\another-file.cfg.js' and place the following code in it:</p>
<pre><span class="plain">defaultPref('ldap_2.autoComplete.directoryServer','ldap_2.servers.AutoGEN-CompanyNameLDAP');
defaultPref('ldap_2.autoComplete.useDirectory',true);
defaultPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.auth.dn','<a class="moz-txt-link-abbreviated" href="mailto:cn=your.email.here@companyname.com,ou=orgunit,dc=CompanyName,dc=com">cn=your.email.here@companyname.com,ou=orgunit,dc=CompanyName,dc=com</a>'); //this will vary for each company and each user, so it is set as default, but not locked so that users can set their correct values
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.auth.saslmech',''); // SASL mechanism, if necessary
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.autoComplete.commentFormat',''); //Any additional LDAP attributes to display on the autocomplete window
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.autoComplete.filterTemplate','(|(displayName=%v*)(sn=%v*)(cn=%v*)(uid=%v*))'); //LDAP Attributes to Search for Autocomplete
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.autoComplete.nameFormat','[displayName]'); //LDAP Attribute for display name
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.description','CompanyName Autogenerated LDAP Directory'); //Human Readable description
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.filename','CompanyName-autogen-ldap.mab'); //Possibly where results are cached
defaultPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.maxHits',300);
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.nameFormat','[displayName]');
lockPref('ldap_2.servers.AutoGEN-CompanyNameLDAP.uri','<a class="moz-txt-link-freetext">ldaps://ldapserver.CompanyName.com/ou=orgunit,dc=CompanyName,dc=com??sub?(objectclass=person)')</a>; //this will vary for each company
defaultPref('ldap_2.servers.default.attrmap.DisplayName','displayName,gecos');
defaultPref('ldap_2.servers.default.autoComplete.filterTemplate','(|(displayName=%v*)(sn=%v*)(cn=%v*)(uid=%v*))');
defaultPref('ldap_2.servers.default.autoComplete.nameFormat','displayName');
defaultPref('mail.addr_book.quicksearchquery.format','?(or(FirstName,c,@V)(sn,c,@V)(DisplayName,c,@V))'); </span>
</pre>
<p>If you are already using Mission Control Desktop, add the second snippet (modified to suit your environment) to your existing auto-configuration file and ignore the first snippet.</p>
<p><a class="link-https" href="https://groups.google.com/forum/?fromgroups#!topic/tb-enterprise/KY0xH6wCYJw" title="https://groups.google.com/forum/?fromgroups#!topic/tb-enterprise/KY0xH6wCYJw">Read the complete discussion</a> on the mailing list.</p>
