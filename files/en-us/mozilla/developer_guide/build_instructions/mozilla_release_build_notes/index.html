---
title: Mozilla Release Build Notes
slug: Mozilla/Developer_guide/Build_Instructions/Mozilla_Release_Build_Notes
tags:
  - Build documentation
  - Developing Mozilla
---

<p>This is a scratchpad for notes on how mozilla.org configures its build machines for doing release builds (around the time of the Mozilla 1.7 and Aviary 1.0 branches).</p>

<h3 id="Machine_configuration">Machine configuration</h3>

<h4 id="Windows_builds">Windows builds</h4>

<h4 id="Linux.2FGTK1_builds">Linux/GTK1 builds</h4>

<ul>
 <li>Install Red Hat 7.1 + all errata (although we've done some releases with 7.3)</li>
 <li>build and install binutils 2.13.2.1 configure with "--prefix=/usr/local/binutils-2.13.2.1"</li>
 <li>add /usr/local/binutils/2.13.2.1/bin to start of PATH for build environment</li>
 <li>build (with above binutils installed and at start of path) and install gcc 3.2.3, configured with "--prefix=/usr/local/gcc-3.2.3 --enable-__cxa_atexit --enable-threads=posix --disable-shared --enable-languages=c++ --disable-checking --with-system-zlib --with-ld=/usr/local/binutils-2.13.2.1/bin/ld --with-as=/usr/local/binutils-2.13.2.1/bin/as"</li>
 <li>add gcc bin directory to start of PATH for build environment</li>
</ul>

<h4 id="Linux.2FGTK2_builds">Linux/GTK2 builds</h4>

<ul>
 <li>Install Red Hat 8.0 + all errata</li>
 <li>build and install gcc 3.3.4, configured with "--prefix=/usr/local/gcc-3.3.4 --enable-languages=c++ --enable-__cxa_atexit --with-system-zlib --enable-threads=posix --enable-shared --disable-checking --disable-libunwind-exceptions"</li>
 <li>add gcc bin directory to start of PATH for build environment</li>
 <li>upgrade glib2 to 2.0.7 by building RPM from spec file in source tarball (we have a copy of this RPM in <code>/builds/cltbld</code> on <code>lhasa</code>)</li>
 <li>edit headers manually to fix:<br>
  <code>/usr/include/gnome-vfs-2.0/libgnomevfs/gnome-vfs-file-info.h:46: error: comma at end of enumerator list<br>
  /usr/include/gnome-vfs-2.0/libgnomevfs/gnome-vfs-xfer.h:81: error: comma at end of enumerator list<br>
  /usr/include/gnome-vfs-2.0/libgnomevfs/gnome-vfs-xfer.h:90: error: comma at end of enumerator list</code></li>
</ul>

<p>See <a class="external" href="https://www.mozilla.org/build/release-build-notes-rh8.txt">Red Hat 8 notes</a> for more details.</p>

<h4 id="Mac_OS_X_builds">Mac OS X builds</h4>

<ul>
 <li>When building on 10.3, install the XCode cross-development package and set the flag <code>--with-macos-sdk=/Developer/SDKs/MacOSX10.2.8.sdk</code> in the system's mozconfig.</li>
</ul>

<h3 id="Build_configuration">Build configuration</h3>

<div class="originaldocinfo">
<h2 id="Original_Document_Information">Original Document Information</h2>

<ul>
 <li>Author(s): David Baron</li>
 <li>Last Updated Date: February 17, 2006</li>
 <li>Copyright Information: Portions of this content are © 1998–2007 by individual mozilla.org contributors; content available under a Creative Commons license | <a class="external" href="https://www.mozilla.org/foundation/licensing/website-content.html">Details</a>.</li>
</ul>
</div>

<div class="noinclude"> </div>
