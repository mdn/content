---
title: Migration to HG
slug: Mozilla/Projects/NSS/Reference/Building_and_installing_NSS/Migration_to_HG
---
<p>The NSPR, NSS and related projects have stopped using Mozilla'a CVS server, but have migrated to <br>
 Mozilla's HG (Mercurial) server.<br>
 <br>
 Each project now lives in its own separate space, they can be found at: <br>
   <a href="https://hg.mozilla.org/projects/nspr/" rel="nofollow">https://hg.mozilla.org/projects/nspr/</a><br>
   <a href="https://hg.mozilla.org/projects/nss/" rel="nofollow">https://hg.mozilla.org/projects/nss/</a><br>
   <a href="https://hg.mozilla.org/projects/jss/" rel="nofollow">https://hg.mozilla.org/projects/jss/</a><br>
   <a href="https://hg.mozilla.org/projects/python-nss/">https://hg.mozilla.org/projects/python-nss/</a></p>
<p>This migration has been used as an opportunity to change the layout of the <br>
 source directories. <br>
 <br>
 For NSPR, "mozilla/nsprpub" has been removed from the directory <br>
 hierarchy, all files now live in the top directory of the NSPR <br>
 repository. <br>
 <br>
 Likewise for NSS and JSS, "mozilla/security" has been removed and files <br>
 now live at the top level. In addition for NSS, we have merged the <br>
 contents of directories mozilla/dbm and mozilla/security/dbm into the <br>
 new directory lib/dbm. <br>
 <br>
 Besides the new layout, the build system hasn't changed. Most parts of <br>
 the NSS build instructions remain valid, especially the instructions <br>
 about setting environment variables. <br>
 <br>
 Updated instructions for building NSS with NSPR can be found at: <br>
 <a href="/en-US/docs/Mozilla/Projects/NSS/Reference/Building_and_installing_NSS/Build_instructions" rel="nofollow">https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/Reference/Building_and_installing_NSS/Build_instructions</a><br>
 <br>
 It's best to refer to the above document to learn about the various <br>
 environment variables that you might have to set to build on your <br>
 platform (this part hasn't changed). <br>
 <br>
 However, below is a brief summary that shows how to checkout the <br>
 source code and build both NSPR and NSS: <br>
   mkdir workarea <br>
   cd workarea <br>
   hg clone <a href="https://hg.mozilla.org/projects/nspr" rel="nofollow">https://hg.mozilla.org/projects/nspr</a><br>
   hg clone <a href="https://hg.mozilla.org/projects/nss" rel="nofollow">https://hg.mozilla.org/projects/nss</a><br>
   cd nss <br>
   # set USE_64=1 on 64 bit architectures <br>
   # set BUILD_OPT=1 to get an optimized build <br>
   make nss_build_all <br>
 <br>
 Note that the JSS project has been given a private copy of the former <br>
 mozilla/security/coreconf directory, allowing it to remain stable, <br>
 and only update its build system as necessary. <br>
 <br>
 Because of the changes described above, we have decided to use a new <br>
 series of (minor) version numbers. The first releases using the new code <br>
 layout will be NSPR 4.10 and NSS 3.15 </p>
