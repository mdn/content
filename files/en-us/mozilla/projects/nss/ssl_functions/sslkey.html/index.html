---
title: sslkey.html
slug: Mozilla/Projects/NSS/SSL_functions/sslkey.html
---
<div class="note">
  <ul>
    <li>This page is part of the <a href="https://developer.mozilla.org/en-US/docs/NSS/SSL_functions/OLD_SSL_Reference">SSL Reference</a> that we are migrating into the format described in the <a href="https://developer.mozilla.org/en-US/docs/Project:MDC_style_guide">MDN Style Guide</a>. If you are inclined to help with this migration, your help would be very much appreciated.</li>
  </ul>
  <ul>
    <li>Upgraded documentation may be found in the <a href="https://developer.mozilla.org/NSS_reference">Current NSS Reference</a>
      <p> </p>
    </li>
  </ul>
</div>
<h1 id="Key_Functions">Key Functions</h1>
<p> </p>
<hr>
<p><a name="1022819"> </a></p>
<h2 id="Chapter_6_Key_Functions">Chapter 6<br>
  <a name="1047959"> Key Functions</a></h2>
<p><a name="1050823"> This chapter describes two functions used to manipulate private keys and key databases such as the <code>key3.db</code> database provided with Communicator.</a></p>
<p><a name="1051473"> </a><a href="sslkey.html#1051479"><code>SECKEY_GetDefaultKeyDB</code></a><br>
  <a href="sslkey.html#1051017"><code>SECKEY_DestroyPrivateKey</code></a></p>
<p> </p>
<h4 id="SECKEY_GetDefaultKeyDB"><a name="Head3;"></a> <a name="1051479"> SECKEY_GetDefaultKeyDB </a></h4>
<p><a name="1051483"> Returns a handle to the default key database opened by </a><a href="sslfnc.html#1067601"><code>NSS_Init</code></a>.</p>
<h5 id="Syntax"><a name="Head4;"></a> <a name="1050894"> Syntax </a></h5>
<pre><a name="1050962">#include &lt;key.h&gt;
#include &lt;keyt.h&gt;</a></pre>
<pre><a name="1050902">SECKEYKeyDBHandle *SECKEY_GetDefaultKeyDB(void);</a></pre>
<h5 id="Returns"><a name="Head4;"></a> <a name="1050930"> Returns </a></h5>
<p><a name="1050946"> The function returns a handle of type <code>SECKEYKeyDBHandle</code>.</a></p>
<h5 id="Description"><a name="Head4;"></a> <a name="1051220"> Description </a></h5>
<p><a name="1051232"> </a><a href="sslfnc.html#1067601"><code>NSS_Init</code></a> opens the certificate, key, and security module databases that you specify for use with NSS. <code>SECKEYKeyDBHandle</code> returns a handle to the key database opened by <code>NSS_Init</code>.</p>
<p> </p>
<h4 id="SECKEY_DestroyPrivateKey"><a name="Head3;"></a> <a name="1051017"> SECKEY_DestroyPrivateKey </a></h4>
<p><a name="1050982"> Destroys a private key structure.</a></p>
<h5 id="Syntax_2"><a name="Head4;"></a> <a name="1050983"> Syntax </a></h5>
<pre><a name="1050984">#include &lt;key.h&gt;
#include &lt;keyt.h&gt;</a></pre>
<pre><a name="1050985">void SECKEY_DestroyPrivateKey(SECKEYPrivateKey *key);</a></pre>
<h5 id="Parameter"><a name="Head4;"></a> <a name="1050986"> Parameter </a></h5>
<p><a name="1050992"> This function has the following parameter:</a></p>
<table>
  <tbody>
    <tr>
      <td>
        <pre>
<a name="1050989"></a><a name="1050992">key</a></pre>
      </td>
      <td>
        <p><a name="1050991"> A pointer to the private key structure to destroy. </a></p>
      </td>
    </tr>
  </tbody>
</table>
<h5 id="Description_2"><a name="Head4;"></a> <a name="1051258"> Description </a></h5>
<p><a name="1051346"> Certificate and key structures are shared objects. When an application makes a copy of a particular certificate or key structure that already exists in memory, SSL makes a <i>shallow</i> copy--that is, it increments the reference count for that object rather than making a whole new copy. When you call </a><a href="sslcrt.html#1050532"><code>CERT_DestroyCertificate</code></a> or <a href="sslkey.html#1051017"><code>SECKEY_DestroyPrivateKey</code></a>, the function decrements the reference count and, if the reference count reaches zero as a result, both frees the memory and sets all the bits to zero. The use of the word "destroy" in function names or in the description of a function implies reference counting.</p>
<p> </p>
<p><a name="1051259"> Never alter the contents of a certificate or key structure. If you attempt to do so, the change affects all the shallow copies of that structure and can cause severe problems.</a></p>
<p> </p>
<p><a name="1051269"> </a></p>
<p> </p>
