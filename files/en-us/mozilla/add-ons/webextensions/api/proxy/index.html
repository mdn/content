---
title: proxy
slug: Mozilla/Add-ons/WebExtensions/API/proxy
tags:
  - API
  - Add-ons
  - Proxy
  - WebExtensions
browser-compat: webextensions.api.proxy
---
<div>{{AddonSidebar}}</div>

<p>Use the proxy API to proxy web requests. You can use the {{WebExtAPIRef("proxy.onRequest")}} event listener to intercept web requests, and return an object that describes whether and how to proxy them.</p>

<p>The advantage of the {{WebExtAPIRef("proxy.onRequest")}} approach is that the code that implements your proxy policy runs in your extension's background script, so it gets full access to the WebExtension APIs available to your extension (including, for example, access to your extension's <code><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage">storage</a></code> and networking APIs like <code><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dns">dns</a></code>).</p>

<p>Apart from this API, extensions can also use the <code><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/settings">browserSettings.proxyConfig</a></code> property to configure global proxy settings.</p>

<p>Google Chrome provides <a href="https://developer.chrome.com/extensions/proxy">an extension API also called "proxy"</a> which is functionally similar to this API, in that extensions can use it to implement a proxying policy. However, the design of the Chrome API is completely different to this API. Because this API is incompatible with the Chrome <code>proxy</code> API, this API is only available through the <code>browser</code> namespace.</p>

<p>To use this API you need to have the "proxy" <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions">permission</a>. Also, where you want to intercept requests, you also need <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions#host_permissions">host permission</a> for the URLs of intercepted requests.</p>

<h2 id="Types">Types</h2>

<dl>
 <dt>{{WebExtAPIRef("proxy.ProxyInfo")}}</dt>
 <dd>Describes a proxy.</dd>
 <dt>{{WebExtAPIRef("proxy.RequestDetails")}}</dt>
 <dd>
 <p>Contains information about a web request that the browser is about to make.</p>
 </dd>
</dl>

<h2 id="Properties">Properties</h2>

<dl>
 <dt>{{WebExtAPIRef("proxy.settings")}}</dt>
 <dd>Get and set proxy settings.</dd>
</dl>

<h2 id="Functions">Functions</h2>

<div class="notecard warning">
  <h4>Warning</h4>
  <p>You should not use these methods ({{WebExtAPIRef("proxy.register()")}} or {{WebExtAPIRef("proxy.unregister()")}}) to register and remove an extended <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/register#pac_file_specification">Proxy Auto-Configuration (PAC) file</a>. They were deprecated in Firefox 68 and removed in Firefox 71.</p>
</div>

<dl>
 <dt>{{WebExtAPIRef("proxy.register()")}} {{Deprecated_Inline}}</dt>
 <dd>Registers the given proxy script.</dd>
 <dt>{{WebExtAPIRef("proxy.unregister()")}} {{Deprecated_Inline}}</dt>
 <dd>Unregisters theÂ proxy script.</dd>
</dl>

<h2 id="Events">Events</h2>

<dl>
 <dt>{{WebExtAPIRef("proxy.onError")}}</dt>
 <dd>Fired when the system encounters an error running the PAC script or the <code>onRequest</code> listener.</dd>
 <dt>{{WebExtAPIRef("proxy.onRequest")}}</dt>
 <dd>Fired when a web request is about to be made, giving the extension an opportunity to proxy it.</dd>
</dl>

<p>{{WebExtExamples("h2")}}</p>

<h2 id="Browser_compatibility">Browser compatibility</h2>

<p>{{Compat}}</p>
