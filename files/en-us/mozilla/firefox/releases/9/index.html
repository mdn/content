---
title: Firefox 9 for developers
slug: Mozilla/Firefox/Releases/9
tags:
  - Firefox
  - Firefox 9
  - Gecko 9
---
<div>{{FirefoxSidebar}}</div>

<p>Firefox 9 was released for Windows on December 20, 2011. Mac and Linux version 9.0.1, which fixed a crashing bug discovered at the last minute, were released on December 21, 2011.</p>

<h2 id="Changes_for_web_developers">Changes for web developers</h2>

<h3 id="HTML">HTML</h3>

<ul>
 <li>The <code>value</code> attribute of {{ HTMLElement("li") }} now can be negative as specified in HTML5. Previously negative values were converted to 0.</li>
 <li>You can now <a href="/en-US/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content#specifying_playback_range">specify the start and stop time of media</a> in the URI of the media when using {{ HTMLElement("audio") }} and {{ HTMLElement("video") }} elements.</li>
 <li>{{ HTMLElement("input") }} and {{ HTMLElement("textarea") }} elements <a href="/en-US/docs/Web/HTML/Global_attributes/spellcheck#controlling_the_spellchecker_language">now respect the value of the <code>lang</code> attribute</a> when invoking the spell checker.</li>
 <li>Firefox on Android now lets users snap photos with their phone's camera without leaving the browser when the {{ HTMLElement("input") }} element is used with <code>type="file"</code> and <code>accept="image/*"</code>.</li>
 <li>Windows Vista style PNG ICO images are now supported.</li>
 <li>Drawing images that use the <a href="/en-US/docs/Web/HTML/Attributes/crossorigin" title="CORS settings attributes"><code>crossorigin</code></a> attribute to request CORS access no longer incorrectly <a href="/en-US/docs/Web/HTML/CORS_enabled_image#what_is_a_.22tainted.22_canvas.3f">taint the canvas</a> when CORS is granted.</li>
 <li>The value of the {{ htmlattrxref("rowspan", "td") }} attribute may now be as large as 65,534, up from 8190.</li>
</ul>

<h3 id="CSS">CSS</h3>

<ul>
 <li>The {{ cssxref("font-stretch") }} property is now supported.</li>
 <li>The {{ cssxref("columns") }} property is now supported, with the <code>-moz</code> prefix. This is a shorthand for the following properties: {{ cssxref("column-width") }} and {{ cssxref("column-count") }}.</li>
 <li>When a stylesheet included using the {{ HTMLElement("link") }} element has been fully loaded and parsed (but not yet applied to the document), a <a href="/en-US/docs/Web/HTML/Element/link#stylesheet_load_events"><code>load</code> event</a> is now fired. Also, if an error occurs processing a style sheet, an <code>error</code> event is fired.</li>
 <li>You can now specify overflow settings for both the left and right edges of content using a new two-value syntax for {{ cssxref("text-overflow") }}.</li>
</ul>

<h3 id="JavaScript">JavaScript</h3>

<p><em>No change.</em></p>

<h3 id="DOM">DOM</h3>

<dl>
 <dt><a href="/en-US/docs/Web/API/Fullscreen_API">Using full-screen mode</a></dt>
 <dd>The new full-screen API provides a way to present content using the entire screen, with no browser interface. This is great for video and games. This API is currently experimental and prefixed.</dd>
</dl>

<ul>
 <li>The {{ domxref("Node.contains()") }} method is now implemented; this lets you determine if a given node is a descendant of another node.</li>
 <li>The {{ domxref("Node.parentElement") }} attribute has been implemented; this returns the parent {{ domxref("Element") }} of a DOM node, or <code>null</code> if the parent isn't an element.</li>
 <li>DOM Level 3 <a href="/en-US/docs/Web/API/CompositionEvent">composition events</a> are now supported.</li>
 <li>The {{ domxref("Document.scripts") }} attribute has been implemented; this returns an {{ domxref("HTMLCollection") }} of all the {{ HTMLElement("script") }} elements on the document.</li>
 <li>The {{ domxref("Document.queryCommandSupported()") }} method has been implemented.</li>
 <li>The set of events that can be listened for on {{ HTMLElement("body") }} elements has been revised to match the latest draft of the HTML5 specification. The list of events in the <a href="/en-US/docs/Web/Events">DOM event reference</a> reflects which events can be listened for on {{ HTMLElement("body") }}.</li>
 <li>The <code>readystatechange</code> event is now fired only on the {{ domxref("Document") }}, as intended.</li>
 <li>Event handlers are now implemented as standard IDL interfaces. For most cases, this won't affect content, but <a href="/en-US/docs/Web/Guide/Events/Event_handlers#event_handler_changes_in_firefox_9">there are exceptions</a>.</li>
 <li>A new response type, "<code>moz-json</code>", has been added to <code>XMLHttpRequest</code>, letting <code>XMLHttpRequest</code> automatically parse <a href="/en-US/docs/Glossary/JSON">JSON</a> strings for you; when you request this type, a returned JSON string is parsed, so that the value of the <code>response</code> property is the resulting JavaScript object.</li>
 <li><a href="/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#monitoring_progress"><code>XMLHttpRequest</code> "progress" events</a> are now reliably sent for every chunk of data received; in the past it was possible for the last chunk of data received to not fire a "progress" event. Now you can track progress by following only "progress" events, instead of also having to monitor "load" events to detect the receipt of the last chunk of data.</li>
 <li>In the past, calling <a href="/en-US/docs/Web/API/EventTarget/addEventListener"><code>addEventListener()</code></a> with a <code>null</code> listener would throw an exception. Now it returns without error and with no effect.</li>
 <li>The new {{ domxref("navigator.doNotTrack") }} property lets your content easily determine whether or not the user has enabled their do-no-track preference; if this value is "yes", you should not track the user.</li>
 <li>{{ domxref("Range") }} and {{ domxref("Selection") }} objects now behave according to their specifications when {{ domxref("Text.splitText()", "splitText()") }} and {{ domxref("Node.normalize", "normalize()") }} are called.</li>
 <li>The value of {{ domxref("Node.ownerDocument") }} for doctype nodes is now the document on which <a href="/en-US/docs/Web/API/DOMImplementation/createDocumentType"><code>createDocumentType()</code></a> was called to create the node, instead of <code>null</code>.</li>
 <li><code>window.navigator.taintEnabled</code> has been removed; it has not been supported in many years.</li>
</ul>

<h3 id="Workers">Workers</h3>

<ul>
 <li>Workers implemented in blob URLs were broken in Firefox 8, and work again starting in Firefox 9.</li>
</ul>

<h3 id="WebGL">WebGL</h3>

<ul>
 <li>The <a href="/en-US/docs/Web/API/WebGL_API">WebGL</a> context <code>drawingBufferWidth</code> and <code>drawingBufferHeight</code> attributes are now supported.</li>
</ul>

<h3 id="MathML">MathML</h3>

<ul>
 <li>The non-standard <code>restyle</code> value for the <code>actiontype</code> attribute on {{ MathMLElement("maction") }} elements has been removed.</li>
 <li>While still unsupported, using the <code>mlabeledtr</code> element no longer breaks rendering completely. See {{ bug(689641) }} for progress on actual support of this element.</li>
</ul>

<h3 id="Networking">Networking</h3>

<ul>
 <li>You can now send the contents of <a href="/en-US/docs/Web/JavaScript/Typed_arrays">JavaScript typed arrays</a> (that is, the contents of an <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a> object) <a href="/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#sending_typed_arrays_as_binary_data">using XMLHttpRequest</a>.</li>
 <li>WebSocket connections now permit non-characters in otherwise valid UTF-8 data frames to be received, instead of failing.</li>
 <li>The HTTP <code>Accept</code> header for XSLT requests has been changed to "*/*" for simplicity. Since fetching XSLT has always fallen back to "*/*" anyway, it made sense to simplify the initial request.</li>
 <li>Attempts by a server to use the <code>301 Moved Permanently</code> or <code>307 Temporary Redirect</code> response codes to redirect the user to a <code>javascript:</code> URI now <a href="/en-US/docs/Web/HTTP#more_on_redirection_responses">result in a "bad connection" error</a> instead of actually redirecting. This prevents certain types of cross-site scripting attacks.</li>
 <li>Content served with an empty {{ HTTPHeader("Content-Disposition") }} were previously treated as if the {{ HTTPHeader("Content-Disposition") }} were "attachment"; this didn't always work as expected. These are now handled as if the {{ HTTPHeader("Content-Disposition") }} were "inline".</li>
 <li>The default maximum size of an item in the disk cache has been increased to 50 MB; previously, only items up to 5 MB were cached.</li>
</ul>

<h3 id="Developer_tools">Developer tools</h3>

<ul>
 <li>The web console now supports basic <a href="/en-US/docs/Tools/Web_Console#string_substitutions">string substitutions</a> in its logging methods.</li>
 <li>You can now <a href="/en-US/docs/Tools/Web_Console#using_groups_in_the_console">create visually nested blocks of output</a> in the web console, to help make it easier to read.</li>
</ul>

<h2 id="Changes_for_Mozilla_and_add-on_developers">Changes for Mozilla and add-on developers</h2>

<p>See <a href="/en-US/docs/Mozilla/Firefox/Updating_add-ons_for_Firefox_9">Updating add-ons for Firefox 9</a> for an overview of the changes you may need to make to get your add-ons working in Firefox 9.</p>

<h3 id="XUL">XUL</h3>

<ul>
 <li>The <code><a href="/en-US/docs/Mozilla/Tech/XUL/tab">&lt;xul:tab&gt;</a></code> element now has a <code id="a-pending"><a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/pending">pending</a></code> attribute, whose value is <code>true</code>, when the tab is in the process of being restored by the session store service. This can be used for styling the tab in themes. The attribute isn't present on tabs that aren't pending.</li>
 <li>The <code><a href="/en-US/docs/Mozilla/Tech/XUL/tab">&lt;xul:tab&gt;</a></code> element now has an <code id="a-unread"><a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/unread">unread</a></code> attribute, whose value is <code>true</code>, when the tab has changed since the last time it was the active tab or if it hasn't been selected since the current session began. The attribute isn't present on tabs that are not unread.</li>
 <li>You can now use a <code><a href="/en-US/docs/Mozilla/Tech/XUL/panel">&lt;xul:panel&gt;</a></code> as a drag image for DOM drag and drop operations. This lets you use the standard drag &amp; drop API for <a href="/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations#using_xul_panels_as_drag_images">drag and drop of XUL content</a>.</li>
 <li>The <code><a href="/en-US/docs/Mozilla/Tech/XUL/notificationbox">&lt;xul:notificationbox&gt;</a></code> element's <span id="m-appendNotification"><code><a href="/en-US/docs/Mozilla/Tech/XUL/Method/appendNotification">appendNotification</a></code></span> method now lets you specify a callback that gets called for interesting events related to the notification box. Currently, the only event is "removed", which tells you the box has been removed from its window.</li>
</ul>

<h3 id="JavaScript_code_module_changes">JavaScript code module changes</h3>

<ul>
 <li><a href="/en-US/docs/JavaScript_code_modules/FileUtils.jsm" title="FileUtils.jsm"><code>FileUtils.jsm</code></a> now has a <code>File</code> constructor that returns an {{ interface("nsIFile") }} object representing a file specified by its pathname.</li>
</ul>

<h3 id="Service_changes">Service changes</h3>

<ul>
 <li>The content preference service now <a href="/en-US/docs/Using_content_preferences#private-browsing">handles private mode browsing</a> (see {{ bug("679784") }}).</li>
</ul>

<h3 id="NSPR">NSPR</h3>

<ul>
 <li>NSPR now has an "append" module, which lets you append new data to the end of an existing log.</li>
</ul>

<h3 id="Interface_changes">Interface changes</h3>

<h4 id="Removed_interfaces">Removed interfaces</h4>

<ul>
 <li>{{ interface("nsIGlobalHistory3") }} has been removed during streamlining of the Places and DocShell code.</li>
</ul>

<h4 id="Miscellaneous_interface_changes">Miscellaneous interface changes</h4>

<ul>
 <li>The {{ interface("nsISound") }} interface has a new constant, <code>EVENT_EDITOR_MAX_LEN</code>. The allows for playing the system sound for when more characters than the maximum allowed are typed into a text field. Currently, this is only used on Windows.</li>
 <li>The {{ interface("nsIScriptError2") }} interface has new <code>timeStamp</code> and <code>innerWindowID</code> properties; in addition, the <code>initWithWindowID()</code> method now takes an inner window ID instead of an outer window ID.</li>
 <li>The {{ ifattribute("nsIBidiKeyboard", "haveBidiKeyboards") }} attribute has been added; this lets you determine if the system has at least one keyboard installed for each direction: left-to-right and right-to-left.</li>
 <li>The new {{ ifattribute("nsIEditor", "isSelectionEditable") }} attribute lets you determine if the current selection anchor is editable. This helps to support cases where only parts of the document are editable, by letting you see if the current selection is in an editable section.</li>
 <li>The {{ ifmethod("nsIBrowserHistory", "registerOpenPage") }} and {{ ifmethod("nsIBrowserHistory", "unregisterOpenPage") }} methods have been removed as part of a performance overhaul in the Places system. You can use the corresponding methods in {{ interface("mozIPlacesAutoComplete") }} instead.</li>
 <li>The {{ ifmethod("nsIDOMWindowUtils", "wrapDOMFile") }} method has been added; this returns a DOM {{ domxref("File") }} object for a given {{ interface("nsIFile") }}.</li>
 <li>The {{ ifmethod("nsIChromeFrameMessageManager", "removeDelayedFrameScript") }} method was added to support removing delayed load scripts. Bootstrapped add-ons should use this, at shutdown, to remove any scripts it loaded using {{ ifmethod("nsIChromeFrameMessageManager", "loadFrameScript") }} with the delayed load flag set. This is exposed to add-ons as <code>browser.messageManager.removeDelayedFrameScript()</code>.</li>
 <li>The {{ interface("nsIAppStartup") }} interface has a new <code>interrupted</code> attribute, which lets you know if the startup process was interrupted at any point by an interactive prompt. This can be helpful, for example, when timing startups during performance evaluation, to be able to drop numbers from sessions that were interrupted.</li>
 <li>The {{ interface("nsIEditorSpellCheck") }} interface has been revised to support per-site selection of spell checker dictionaries.</li>
</ul>

<h3 id="IDL_parser">IDL parser</h3>

<p>The IDL parser no longer includes support for the never fully-implemented notion of unique pointers.</p>

<h3 id="Build_system_changes">Build system changes</h3>

<ul>
 <li>The <code>--enable-application=standalone</code> option for building standalone XPConnect has been removed; it hasn't worked since 2007 anyway.</li>
 <li>Support for building Necko and Transformiix XSLT standalone has been removed; you can no longer use <code>--enable-application=network</code> or <code>--enable-application=content/xslt</code>.</li>
 <li>The build system now looks for <code>.mozconfig</code> at <code>$topsrcdir/.mozconfig</code> or <code>$topsrcdir/mozconfig</code>, and nowhere else, unless you override the <code>.mozconfig</code> path using the <code>MOZCONFIG</code> environment variable.</li>
 <li>The <code>xpidl</code> utility has been replaced in the SDK with <a href="/en-US/docs/XPIDL/pyxpidl">pyxpidl</a>.</li>
</ul>

<h3 id="Other_changes">Other changes</h3>

<ul>
 <li>The spell checker no longer has an arbitrary 130-character word-length limit on the length of words it will attempt to spell check. This limit was previously in place to prevent crashes that were occurring in the spell checker, but the underlying bugs have since been fixed.</li>
 <li>You can now register components to add features to the {{ domxref("window.navigator") }} object by using the "JavaScript-navigator-property" category. See <a href="/en-US/docs/Mozilla/Developer_guide/Adding_APIs_to_the_navigator_object">Adding APIs to the navigator object</a> for details and examples.</li>
</ul>

<h2 id="See_also">See also</h2>

<div>{{Firefox_for_developers('8')}}</div>
